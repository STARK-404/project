<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vendor Login - Nebula Market</title>
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/account.css">
  <link rel="stylesheet" href="/css/animations.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Roboto+Mono:wght@300;400;600&display=swap">
</head>
<body>
  <div class="encryption-overlay">
    <div class="encryption-text">Establishing Secure Connection...</div>
  </div>

  <header class="site-header">
    <div class="header-container">
      <div class="logo">
        <h1><span class="logo-nebula">NEBULA</span> <span class="logo-market">MARKET</span></h1>
        <div class="logo-tagline">Secure ‚Ä¢ Anonymous ‚Ä¢ Untraceable</div>
      </div>
      <div class="status-indicator">
        <span class="status-dot online"></span>
        <span class="status-text">SECURE CONNECTION</span>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Marketplace</a></li>
          <li><a href="vendors.html">Vendors</a></li>
          <li><a href="account.html">Account</a></li>
          <li><a href="cart.html" class="cart-link">Cart <span class="cart-count">0</span></a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="main-content account-wrapper">
    <div class="login-container">
      <div class="login-form-container">
        <h2 class="login-heading">Vendor Login</h2>
        <form class="login-form" id="vendor-login-form">
          <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" name="email" required class="form-input">
          </div>
          
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <input type="password" id="password" name="password" required class="form-input">
          </div>
          
          <div class="form-group">
            <button type="submit" class="login-button">Login as Vendor</button>
          </div>
          
          <div class="form-group">
            <a href="vendor-register.html" class="register-link">Register as a Vendor</a>
          </div>
        </form>
      </div>

      <div class="register-container">
        <h2 class="register-heading">Why Sell on Nebula Market?</h2>
        <p class="register-text">Join our trusted marketplace and reach thousands of customers securely.</p>
        
        <div class="security-highlights">
          <div class="security-item">
            <div class="security-icon">üîí</div>
            <div class="security-description">Secure payment processing with escrow protection</div>
          </div>
          
          <div class="security-item">
            <div class="security-icon">üìä</div>
            <div class="security-description">Detailed analytics and sales tracking</div>
          </div>
          
          <div class="security-item">
            <div class="security-icon">‚≠ê</div>
            <div class="security-description">Build reputation with vendor levels and badges</div>
          </div>
          
          <div class="security-item">
            <div class="security-icon">üí∞</div>
            <div class="security-description">Competitive fees and instant payouts</div>
          </div>
        </div>
        
        <div class="market-stats">
          <div class="stats-item">
            <div class="stats-count">185,200+</div>
            <div class="stats-label">Active Users</div>
          </div>
          
          <div class="stats-item">
            <div class="stats-count">$5.2M+</div>
            <div class="stats-label">Monthly Sales</div>
          </div>
          
          <div class="stats-item">
            <div class="stats-count">99.9%</div>
            <div class="stats-label">Uptime</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-section">
        <h3 class="footer-heading">Nebula Market</h3>
        <p class="footer-description">Established 2023. The most secure marketplace on the dark web.</p>
        <div class="pgp-key-container">
          <span class="pgp-label">Market PGP:</span>
          <pre class="pgp-key">-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v2.0.22

mQENBGRxyz8BCACvL/7...</pre>
          <a href="#" class="pgp-copy-link">Copy Full Key</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3 class="footer-heading">Mirror Links</h3>
        <ul class="mirror-links">
          <li><a href="#" class="onion-link">nebula7qt2kernel.onion</a> <span class="status-dot online"></span></li>
          <li><a href="#" class="onion-link">nebula24cryptomark3t.onion</a> <span class="status-dot online"></span></li>
          <li><a href="#" class="onion-link">nebula8secure9hub.onion</a> <span class="status-dot offline"></span></li>
          <li><a href="#" class="onion-link">nebulamarketv4.onion</a> <span class="status-dot online"></span></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3 class="footer-heading">Security</h3>
        <ul class="security-links">
          <li><a href="security.html">Security Measures</a></li>
          <li><a href="pgp.html">PGP Tutorial</a></li>
          <li><a href="bitcoin.html">Bitcoin Guide</a></li>
          <li><a href="faq.html">FAQ</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3 class="footer-heading">Support</h3>
        <ul class="support-links">
          <li><a href="tickets.html">Support Tickets</a></li>
          <li><a href="disputes.html">Dispute Resolution</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p class="footer-notice">This is a fictional marketplace for educational purposes only. All products are fictitious.</p>
      <p class="uptime-notice">Market Uptime: <span class="uptime">99.87%</span> | Last Updated: <span class="last-updated">08/05/2025 03:47 UTC</span></p>
    </div>
  </footer>

  <script type="module">
    import { supabase } from './src/supabase.js';

    const form = document.getElementById('vendor-login-form');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const email = form.email.value;
      const password = form.password.value;

      try {
        const { data, error } = await supabase.auth.signInWithPassword({
          email,
          password
        });

        if (error) throw error;

        // Check if the user is a vendor
        const { data: vendorData, error: vendorError } = await supabase
          .from('vendors')
          .select('*')
          .eq('id', data.user.id)
          .single();

        if (vendorError || !vendorData) {
          throw new Error('Not authorized as a vendor');
        }

        // Redirect to vendor dashboard
        window.location.href = '/vendor-dashboard.html';
      } catch (error) {
        alert(error.message);
      }
    });
  </script>
</body>
</html>